---
alwaysApply: true
---

# Z-Tab Project Rules

本文件引用项目的需求约束和开发规范。

## 文件说明

- **需求约束**：请参考 `.cursor/requirements.mdc`
- **开发规范**：请参考 `.cursor/guidelines.mdc`

## 快速参考

### 核心约束
- 每次数据更新必须同步 IndexedDB
- 布局变化必须立即保存
- Widget 必须支持整个区域拖拽和点击
- WidgetGrid 布局限制：每页最多 8×4（8列×4行），添加组件导致超出限制时自动分到新页面
- 布局恢复约束：恢复布局时，必须根据保存的全局 y 坐标确定组件应属页面（y < 4 在第0页，y < 8 在第1页），确保组件恢复到正确的页面

### 核心规范
- 使用 TypeScript 严格模式
- 组件使用函数式组件和 Hooks
- 使用 Tailwind CSS 进行样式设计
- 所有异步操作必须包含错误处理
